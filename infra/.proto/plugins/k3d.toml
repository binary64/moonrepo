# Local k3d plugin â€” fixes flaky checksum verification.
#
# Upstream k3d releases use `_dist/` path prefixes in checksums.txt
# (e.g. `_dist/k3d-linux-amd64`) which the proto TOML plugin cannot
# match against the bare download filename, causing intermittent CI
# failures. Removing `checksum-file` skips verification.

name = "k3d"
type = "cli"

[platform.linux]
download-file = "k3d-linux-{arch}"

[platform.macos]
download-file = "k3d-darwin-{arch}"

[platform.windows]
download-file = "k3d-windows-{arch}.exe"

[install]
download-url = "https://github.com/k3d-io/k3d/releases/download/v{version}/{download_file}"

[install.arch]
aarch64 = "arm64"
x86_64 = "amd64"

[resolve]
git-url = "https://github.com/k3d-io/k3d"
